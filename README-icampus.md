<p align="center">
	<img alt="logo" src="https://www.dandian.net/cn/wp-content/uploads/20171021044351_57.png">
</p>
<h1 align="center" style="margin: 30px 0 30px; font-weight: bold;">单点数字化校园 v0.3</h1>
<h4 align="center">基于React和PHP开发的快速开发框架</h4>

## 平台简介

单点数字化校园是针对高校,职校的一款学生工作管理系统,基于GPL和商业许可双重授权发布。

* 前端采用React，NextJS，MUI，DataGridPro。
* 后端采用PHP，MYSQL。
* 权限认证使用Jwt，支持多终端认证系统。
* 理论基础：模型驱动架构。
* 开发流程：设计表单（建立数据表，设置字段物理类型和显示设置），设计流程（设计功能页面），加入菜单，分配权限，即完成新模块开发，整个过程不需要写一行代码。
* 框架特点：超过15年以上行业管理软件开发经验，内置软件快速开发工具。
* 代码生成：无需生成软件代码，模型在设计完成以后，直接加载执行，快速高效。
* 业务特点：支持老师和学生用户登录；内置学生，任课老师，班主任，专业，系部，宿舍管理员等特殊角色，用于适用不同的应用场景；可定制化的数据流审批和消息提醒机制。


## 内置功能

### 万能表单 快速开发框架
1.  表单设计：设计底层的数据表和结构，可以设置每一个字段的数据库类型和显示类型（业务逻辑类型）。
2.  功能设计：针对表单的一系列增刪查改操作，可以根据不同的业务逻辑需要，设置不同的功能（流程）页面。通过一些参数的配置，可以达到工作流程审核的效果，也可以设计独立的页面。
3.  显示类型：内置大量常用的显示类型，用于在设计表单和功能的时候使用。
4.  数据字典：设置数据字典，用于显示类型的下拉、多选等项目，主要用于给显示类型提供数据源。
5.  菜单管理：分为一级菜单和二级菜单管理，通常不需要在此进行修改，直接在【流程管理】的【界面】中直接设定菜单位置即可。
6.  角色与权限：设计好的菜单，分配权限以后，就可以直接在系统中打开使用。
7.  消息提醒：针对每一个功能菜单，都可以设置独立的消息提醒功能，不同的数据条件会触发不同的消息提醒内容。另外，可以自定义消息模板，设置提醒对像（内置消息提醒对像为：学生，班主任，院系负责人，专业负责人，年段长，宿舍管理员，本班所有学生，本专业所有学生，本校所有学生，用户，部门负责人）。
8.  操作日志：主要有所有记录，新增编辑和删除，编辑和删除，删除操作等几类，可以针对每一个流程设置不同的操作日志级别。
9.  功能页面对字段的控制：在某一个功能（流程）页面里面，针对字段可以设置为正常沿用表单设计的值，只读，禁用，当前用户的某个信息等，用于实现更加灵活的权限控制和功能设计。
10. 界面语言：自定义所有界面和按钮的值，以及返回信息的提示。因为是显示用户自定义的值，所以就只能是一种语言，即你输入的值。
11. 额外权限控制：系统内置了学生，班主任，系部，宿舍管理员等几个常用角色，同时可以指定某个字段等于或包括某个值，用于提供额外的条件判断和过滤。
12. 按钮控制：可以设置新建，导入，导出，编辑，删除，全选等按钮是否显示。
13. 表单提交以后的数据操作：当用户提交表单以后，在特定的某些条件下面，可以更新其它表单的值。
14. 列锁定：可以设置某些列固定在页面的左侧或是右侧，用于更好的显示某些重点信息。
15. 页面排序：用于设置初始条件下面的默认排序和页面显示数量。
16. 初始页面类型：用于设置用户打开页面的时候的页面类型，通常是列表，某个记录的编辑页面或是查看页面。
17. 唯一性判断字段：用于设置表单的唯一性字段，用于支持某些特殊的业务场景。
18. 底部常用按钮控制：删除，批量通过，批量退回，批量拒绝，重置密码为123654，重置密码为身份证号后六位，批量设置一，批量设置二。
19. 批量审核：可以设置批量审核的人，状态，时间，意见。同时支持更新其它字段的值，用于实现其它字段的同步操作。


### 系统管理 
    系统最基础的信息设置，包括：单位，部门，用户，角色，消息提醒，操作日志，慢SQL查询等模块。

### 基础数据 
    学校教学相关的基础信息，包括：系部，专业，班级，课程，教学计划，校区，建筑物，房间，教研室等模块。

### 学籍管理
1.  学籍：支持职校【国家学籍】上报，通常由学生填写，班主任审核，系部审核，教务审核以后，导出数据进行数据上报；支持自定义审批流程。
2.  调班：支持自定义审核流程，默认流程：学生发起，班主任审核，系部审核，教务审核，学工审核，分管校长审核，校长审核。
3.  退学：支持自定义审核流程，默认流程：学生发起，班主任审核，系部审核，教务审核，学工审核，分管校长审核，校长审核。
4.  休学：支持自定义审核流程，默认流程：学生发起，班主任审核，系部审核，教务审核，学工审核，分管校长审核，校长审核。
5.  复学：支持自定义审核流程，默认流程：学生发起，班主任审核，系部审核，教务审核，学工审核，分管校长审核，校长审核。
6.  国家学籍上报：支持自定义审核流程，默认流程：学生发起，班主任审核，系部审核，教务审核，学工审核，分管校长审核，校长审核。

### 班级事务
1.  班级活动：支持简易审核和额外字段拓展。班主任录入，班主任审核通过，系部查阅，学生也可以查阅。
2.  班级周记：支持简易审核和额外字段拓展。班主任录入，班主任审核通过，系部查阅，学生也可以查阅。
3.  班级费用：支持简易审核和额外字段拓展。班主任录入，班主任审核通过，系部查阅，学生也可以查阅。

### 学生事务
1.  学生请假:支持自定义审核流程，默认流程：学生发起，公假老师审核或病假老师审核，班主任审核，系部审核，教务审核，学工审核，分管校长审核，校长审核。同时支持复课申请和审核功能。
2.  期末评语：期末评语，系部查阅，所有明细；学生查询期末评语。
3.  学生奖励：班主任录入，系部审核，学工审核，分管校长审核，校长审核，所有明细；学生查阅奖励记录；支持审核流程自定义。
4.  学生违纪：班主任录入，系部审核，学工审核，分管校长审核，校长审核，所有明细；学生查阅违纪记录；支持审核流程自定义。
5.  学生谈话：学生谈话，系部查阅，所有明细；学生查询谈话记录。
6.  家校联系：家校联系，系部查阅，所有明细；学生查阅家校联系。
7.  志愿服务：学生录入，班主任审核，系部审核，学工审核，分管校长审核，校长审核，所有明细；支持审核流程自定义。
8.  奖学金：奖学金管理，奖学金查询，班主任录入，系部审核，学工审核，分管校长审核，校长审核，所有明细；学生查阅奖学金记录；支持审核流程自定义。
9.  助学金：助学金管理，助学金查询，班主任录入，系部审核，学工审核，分管校长审核，校长审核，所有明细；学生查阅助学金记录；支持审核流程自定义。
10. 周末回家：学生申请，班主任审核，系部查阅，宿管查阅，所有明细；支持审核流程自定义。

### 学生宿舍
1.  宿舍楼：宿舍楼管理，宿舍楼查阅。
2.  宿舍房间：房间管理，房间查阅，宿管查阅。
3.  住宿考勤：住宿考勤，班主任查阅考勤，系部查阅考勤，宿管查阅考勤；需要额外代码来对接考勤机。
4.  原始打卡：原始打卡记录，班主任查阅打卡，系部查阅打卡，宿管查阅打卡；需要额外代码来对接考勤机。

### 德育量化(学生积分)
1.  指标设置：一级指标，二级指标，积分项目，调用函数（支持把其它模块的数据同步到某一个积分项目），参数设置。
2.  指标查询：一级指标，二级指标，积分项目，调用函数，代录查询。
3.  个人积分：班主任管理，系部审核，学工审核，学校审核，明细管理，明细查询，二级管理。

### 班级评价
1.  指标设置：一级指标，二级指标，积分项目，调用函数（支持把其它模块的数据同步到某一个积分项目），参数设置。
2.  指标查询：一级指标，二级指标，积分项目，调用函数，代录查询。
3.  个人积分：班主任管理，系部审核，学工审核，学校审核，明细管理，明细查询，二级管理。

### 固定资产
1.  资产分类：固定资产分类代码,符合教育部高等学校固定资产分类与代码(JY/T 0624－2018)标准。
2.  资产采购：采购申请,部门审核,系部分管审核,系部主管审核,分管校长审核,校长审核,总务资产员审核,总务负责人审核,采购员入库操作。
3.  固定资产：资产管理员,资产调拨,我的资产,责任资产,使用部门资产,所属部门资产,班级资产,宿舍资产,系部资产。

### 校园安全
1.  校园危机安全事件
2.  学生安全事件

## 在线体验

- http://data.dandian.net:8026/

## 移动端

- 规则中，目前计划以微信小程序的形式提供移动端，如果需要APP的形式，则可以另行沟通。

## 演示图

<table>
    <tr>
        <td><img src="https://gitee.com/dandiankeji/icampus-student-affairs-manage/raw/master/public/images/screenshot/01.png"/></td>
        <td><img src="https://gitee.com/dandiankeji/icampus-student-affairs-manage/raw/master/public/images/screenshot/02.png"/></td>
    </tr>
    <tr>
        <td><img src="https://gitee.com/dandiankeji/icampus-student-affairs-manage/raw/master/public/images/screenshot/03.png"/></td>
        <td><img src="https://gitee.com/dandiankeji/icampus-student-affairs-manage/raw/master/public/images/screenshot/04.png"/></td>
    </tr>
    <tr>
        <td><img src="https://gitee.com/dandiankeji/icampus-student-affairs-manage/raw/master/public/images/screenshot/05.png"/></td>
        <td><img src="https://gitee.com/dandiankeji/icampus-student-affairs-manage/raw/master/public/images/screenshot/06.png"/></td>
    </tr>
    <tr>
        <td><img src="https://gitee.com/dandiankeji/icampus-student-affairs-manage/raw/master/public/images/screenshot/07.png"/></td>
        <td><img src="https://gitee.com/dandiankeji/icampus-student-affairs-manage/raw/master/public/images/screenshot/08.png"/></td>
    </tr>
    <tr>
        <td><img src="https://gitee.com/dandiankeji/icampus-student-affairs-manage/raw/master/public/images/screenshot/09.png"/></td>
        <td><img src="https://gitee.com/dandiankeji/icampus-student-affairs-manage/raw/master/public/images/screenshot/10.png"/></td>
    </tr>
    <tr>
        <td><img src="https://gitee.com/dandiankeji/icampus-student-affairs-manage/raw/master/public/images/screenshot/11.png"/></td>
        <td><img src="https://gitee.com/dandiankeji/icampus-student-affairs-manage/raw/master/public/images/screenshot/12.png"/></td>
    </tr>
</table>

## 如何安装

前端开发使用命令：
```
npm install
npm run dev
```
前端开发完成进行进行打包命令：
```
npm run build
npm run export
```
后端安装说明：
```
后端代码在api目录下面，需要PHP7和MYSQL5.6以上支持。
数据库脚本：api/database/database.sql
PHP配置文件：api/config.inc.php
导入数据库脚本并且配置完数据库的用户名和密码过后，需要在前端项目中单独配置一下您的后端地址，假设您的后端地址是 http://localhost/api ，然后需要把这个后端地址修改到/src/configs/auth.ts的APP_URL变量，这样前端就可以得到后端的地址并进行调用。
在配置后端环境的过程中,需要在Apache中增加以下配置,用于在PHP获取Authorization的值:
<IfModule mod_rewrite.c>
    Options +FollowSymlinks -Multiviews
    RewriteEngine on
    RewriteCond %{HTTP:Authorization} ^(.*)
    RewriteRule .* - [E=HTTP_AUTHORIZATION:%1]
</IfModule>
手动安装过程有些繁琐，同时对安装者的技术水平要求有些高，所以建议大家使用一键安装包来安装。
```
一键安装包：
```
一键安装包的主要环境参数:
PHP: 8.2.4
APACHE: 2.4.56
MYSQL: MariaDB 10.4

1 双击 MYEDU.exe, 文件解压过程中如果有窗口提示，请允许。
2 文件解压完成以后，弹出一个对话框，请输入1，此时会把相关的路径替换为您解压的位置。
3 打开xampp-control.exe, 然后手工启动Apache和Mysql,如果有提示端口冲突,可以更换为其它的端口.在这个环节可以设置系统服务或是启动后执行。
4 APACHE和MYSQL正常启动以后，请在浏览器打开 http://localhost 就可以看到系统的界面了。

当前运行环境从xampp-windows-x64-8.2.4-0-VS16-installer.exe(https://sourceforge.net/projects/xampp/files/XAMPP%20Windows/)精简而来。
```

## 软件授权
### GPL 授权
    根据GPL协议的内容，您只有在修改了本系统代码的时候，需要开放你的修改内容。
    如果你不想公开代码的修改内容，请联系我们取得商业授权。
    如果没有修改本系统的代码，那么你一直可以使用，无需取得额外软件授权许可。

### 商业授权
    授权形式：一次性授权，终身使用。
    包含服务：仅为商业授权许可费用，服务费用需要单独购买。
    如有需要，请联系我们得取商业授权价格。

### 服务费用
    无论是GPL授权，还是商业授权，都跟服务费用没有关系。无论您是哪一种授权许可，如果需要一对一的技术支持，请联系我们购买年度服务费用。
    服务形式：通常是以QQ群组或是微信群组一对一的形式提供技术服务。
    计费形式：最少服务周期为一年，不接受少于一年的技术服务费用形式。
    服务内容：技术支持，不会涉及到二次开发部分内容。
    

## 交流群组

QQ群： 138595160
